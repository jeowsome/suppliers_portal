import{_ as E,x as C,r as b,a as x,e as _,m as e,f as u,w as O,J as i,K as d,u as t,G as h,L as V,F as y,y as f,H as q,p as g,E as R,q as P,z as B,A as M,g as A,o as p,t as w,v as L}from"./vendor.19304de9.js";import{a as S,b as j,r as $}from"./index.d6e200cc.js";const a=m=>(B("data-v-abc35bee"),m=m(),M(),m),F={class:"container mt-5 py-3 border"},H={class:"row mb-3"},G=a(()=>e("div",{class:"col-6"},[e("h1",{class:"text-gray-900 font-bold text-[32px]"},"New Invoice")],-1)),J={class:"col-6"},K={class:"d-flex"},Q={class:"ms-auto"},Z={class:"btn-group",role:"group","aria-label":"Basic example"},W={type:"button",class:"btn btn-primary btn-light"},X=L("Cancel"),Y={class:"container border-bottom pb-3"},ee={class:"mb-2 row"},se={class:"col"},oe={class:"row"},te=a(()=>e("label",{for:"supplier_invoice_number",class:"col-sm-3 col-form-label"},"Invoice Number",-1)),le={class:"col-sm-5"},ae={class:"col"},ne={class:"row"},ce=a(()=>e("label",{for:"service_date",class:"col-sm-3 col-form-label"},"Service Date",-1)),ie={class:"col-sm-5"},de={class:"mb-2 row"},re={class:"col"},_e={class:"row"},pe=a(()=>e("label",{for:"suppplier_id",class:"col-sm-3 col-form-label"},"Supplier ID",-1)),ue={class:"col-sm-5"},me=["value"],ve={class:"col"},be={class:"row"},he=a(()=>e("label",{for:"invoice_date",class:"col-sm-3 col-form-label"},"Invoice Date",-1)),ye={class:"col-sm-5"},fe={class:"mb-2 row"},we={class:"col"},xe={class:"row"},Ve=a(()=>e("label",{for:"suppplier_name",class:"col-sm-3 col-form-label"},"Supplier Name",-1)),ge={class:"col-sm-5"},Se=["value"],Ne={class:"col"},Ie={class:"row"},Te=a(()=>e("label",{for:"invoice_terms",class:"col-sm-3 col-form-label"},"Invoice Terms",-1)),Ue={class:"col-sm-5"},ke=a(()=>e("option",{readonly:""},null,-1)),ze=["value"],De={class:"mb-2 row"},Ee={class:"col"},Ce={class:"accordion accordion-flush",id:"service-address-accordion"},Oe={class:"accordion-item"},qe=a(()=>e("h2",{class:"accordion-header ps-0"},[e("button",{class:"accordion-button",type:"button","data-bs-toggle":"collapse","data-bs-target":"#collapseOne","aria-expanded":"true","aria-controls":"collapseOne"}," Service Address ")],-1)),Re={id:"collapseOne",class:"accordion-collapse collapse show","data-bs-parent":"#service-address-accordion"},Pe={class:"accordion-body"},Be={class:"row mb-1"},Me=a(()=>e("label",{for:"street",class:"col-sm-3 col-form-label"},"Street",-1)),Ae={class:"col-sm-5"},Le={class:"row mb-1"},je=a(()=>e("label",{for:"city",class:"col-sm-3 col-form-label"},"City",-1)),$e={class:"col-sm-5"},Fe={class:"row mb-1"},He=a(()=>e("label",{for:"state",class:"col-sm-3 col-form-label"},"State",-1)),Ge={class:"col-sm-5"},Je={class:"row mb-1"},Ke=a(()=>e("label",{for:"zip_code",class:"col-sm-3 col-form-label"},"Zip Code",-1)),Qe={class:"col-sm-5"},Ze={class:"col"},We={key:0,class:"accordion accordion-flush",id:"address-accordion"},Xe={class:"accordion-item"},Ye=a(()=>e("h2",{class:"accordion-header ps-0"},[e("button",{class:"accordion-button",type:"button","data-bs-toggle":"collapse","data-bs-target":"#collapse-2","aria-expanded":"true","aria-controls":"collapse-2"}," Payment Reference and Notes ")],-1)),es={id:"collapse-2",class:"accordion-collapse collapse show","data-bs-parent":"#address-accordion"},ss={class:"accordion-body"},os={class:"row mb-1"},ts=a(()=>e("label",{for:"payment_reference_no",class:"col-sm-3 col-form-label"},"Payment Reference",-1)),ls={class:"col-sm-5"},as={class:"row mb-1"},ns=a(()=>e("label",{for:"payment_reference_date",class:"col-sm-3 col-form-label"},"Payment Date",-1)),cs={class:"col-sm-5"},is={class:"row mb-1"},ds=a(()=>e("label",{for:"notes",class:"col-sm-3 col-form-label"},"Notes",-1)),rs={class:"col-sm-5"},_s={class:"container"},ps=a(()=>e("h4",null,"Invoice item",-1)),us={key:0,class:"table"},ms=a(()=>e("thead",null,[e("tr",null,[e("th",{scope:"col"},"#"),e("th",{scope:"col"},"Service Type"),e("th",{scope:"col"},"Quantity"),e("th",{scope:"col"},"Rate"),e("th",{scope:"col"},"Amount")])],-1)),vs={class:"table-group-divider"},bs={scope:"row"},hs=["onUpdate:modelValue"],ys=a(()=>e("option",{readonly:""},null,-1)),fs=["value"],ws=["onUpdate:modelValue"],xs={class:"input-group"},Vs=a(()=>e("span",{class:"input-group-text"},[e("i",{class:"bi bi-currency-dollar"})],-1)),gs=["onUpdate:modelValue"],Ss={class:"input-group"},Ns=a(()=>e("span",{class:"input-group-text"},[e("i",{class:"bi bi-currency-dollar"})],-1)),Is=["onUpdate:modelValue"],Ts={type:"button",class:"btn btn-dark btn-sm"},Us=["onClick"],ks={class:"d-flex"},zs=a(()=>e("i",{class:"bi bi-plus"},null,-1)),Ds=[zs],Es={class:"container"},Cs={class:"mb-2 row"},Os=a(()=>e("div",{class:"col"},null,-1)),qs={class:"col"},Rs={class:"row"},Ps=a(()=>e("label",{for:"total_amount",class:"col-sm-3 col-form-label"},"Total Amount",-1)),Bs={class:"col-sm-5"},Ms=["value"],As={setup(m){const N=C({doctype:"Supplier Portal Invoices",insert:{onSuccess(){$.push({name:"SupplierInvoiceList"})}}}),I=[{label:"NET 10",value:"NET 10"},{label:"NET 15",value:"NET 15"},{label:"NET 30",value:"NET 30"},{label:"NET 45",value:"NET 45"},{label:"NET 60",value:"NET 60"}],T=[{label:"Repair",value:"Repair"},{label:"Preventive Maintenance",value:"Preventive Maintenance"}],s=b({supplier_invoice_number:"",supplier:S(),service_date:new Date().toISOString().split("T")[0],invoice_date:new Date().toISOString().split("T")[0],supplier_name:j(),invoice_terms:"",total_amount:0,street:"",city:"",state:"",zip_code:"",payment_reference_no:"",payment_reference_date:new Date().toISOString().split("T")[0],notes:""}),r=b([]),U=()=>{const n=b({service_type:"",quantity:0,rate:0,amount:0});n.amount=x(()=>n.quantity*n.rate),r.push(n)},k=n=>{r.splice(n,1)};s.total_amount=x(()=>r.reduce((n,l)=>n+l.amount,0));const z=()=>{N.insert.submit({supplier_invoice_number:s.supplier_invoice_number,supplier:s.supplier,service_date:s.service_date,invoice_date:s.invoice_date,supplier_name:s.supplier_name,invoice_terms:s.invoice_terms,street:s.street,city:s.city,state:s.state,zip_code:s.zip_code,payment_reference_date:s.payment_reference_date,payment_reference_no:s.payment_reference_no,notes:s.notes,supplier_invoice_items:r.map(n=>({service_type:n.service_type,quantity:n.quantity,rate:n.rate}))})};return(n,l)=>{const D=A("router-link");return p(),_("form",{onSubmit:l[11]||(l[11]=P(()=>{},["prevent"]))},[e("div",F,[e("div",H,[G,e("div",J,[e("div",K,[e("div",Q,[e("div",Z,[e("button",W,[u(D,{to:"/"},{default:O(()=>[X]),_:1})]),e("button",{type:"button",class:"btn btn-primary btn-dark",onClick:z}," Save ")])])])])]),e("div",Y,[e("div",ee,[e("div",se,[e("div",oe,[te,e("div",le,[i(e("input",{type:"text",class:"form-control",id:"supplier_invoice_number","onUpdate:modelValue":l[0]||(l[0]=o=>t(s).supplier_invoice_number=o),required:""},null,512),[[d,t(s).supplier_invoice_number,void 0,{number:!0}]])])])]),e("div",ae,[e("div",ne,[ce,e("div",ie,[u(h,{type:"date",size:"lg",variant:"outline",placeholder:"Service Date",id:"service_date",disabled:!1,modelValue:t(s).service_date,"onUpdate:modelValue":l[1]||(l[1]=o=>t(s).service_date=o)},null,8,["modelValue"])])])])]),e("div",de,[e("div",re,[e("div",_e,[pe,e("div",ue,[e("input",{type:"text",readonly:"",class:"form-control-plaintext",id:"suppplier_id",value:t(s).supplier},null,8,me)])])]),e("div",ve,[e("div",be,[he,e("div",ye,[u(h,{type:"date",size:"lg",variant:"outline",placeholder:"Invoice Date",id:"invoice_date",disabled:!1,modelValue:t(s).invoice_date,"onUpdate:modelValue":l[2]||(l[2]=o=>t(s).invoice_date=o)},null,8,["modelValue"])])])])]),e("div",fe,[e("div",we,[e("div",xe,[Ve,e("div",ge,[e("input",{type:"text",readonly:"",class:"form-control-plaintext",id:"suppplier_name",value:t(s).supplier_name},null,8,Se)])])]),e("div",Ne,[e("div",Ie,[Te,e("div",Ue,[i(e("select",{class:"form-select form-select-mb","aria-label":"Invoice Terms","onUpdate:modelValue":l[3]||(l[3]=o=>t(s).invoice_terms=o)},[ke,(p(),_(y,null,f(I,o=>e("option",{value:o.value},w(o.label),9,ze)),64))],512),[[V,t(s).invoice_terms]])])])])]),e("div",De,[e("div",Ee,[e("div",Ce,[e("div",Oe,[qe,e("div",Re,[e("div",Pe,[e("div",Be,[Me,e("div",Ae,[i(e("input",{type:"text",class:"form-control",id:"street","onUpdate:modelValue":l[4]||(l[4]=o=>t(s).street=o)},null,512),[[d,t(s).street]])])]),e("div",Le,[je,e("div",$e,[i(e("input",{type:"text",class:"form-control",id:"city","onUpdate:modelValue":l[5]||(l[5]=o=>t(s).city=o)},null,512),[[d,t(s).city]])])]),e("div",Fe,[He,e("div",Ge,[i(e("input",{type:"text",class:"form-control",id:"state","onUpdate:modelValue":l[6]||(l[6]=o=>t(s).state=o)},null,512),[[d,t(s).state]])])]),e("div",Je,[Ke,e("div",Qe,[i(e("input",{type:"text",class:"form-control",id:"zip_code","onUpdate:modelValue":l[7]||(l[7]=o=>t(s).zip_code=o)},null,512),[[d,t(s).zip_code]])])])])])])])]),e("div",Ze,[t(S)()?g("",!0):(p(),_("div",We,[e("div",Xe,[Ye,e("div",es,[e("div",ss,[e("div",os,[ts,e("div",ls,[i(e("input",{type:"text",class:"form-control",id:"payment_reference_no","onUpdate:modelValue":l[8]||(l[8]=o=>t(s).payment_reference_no=o)},null,512),[[d,t(s).payment_reference_no]])])]),e("div",as,[ns,e("div",cs,[u(h,{type:"date",size:"lg",variant:"outline",placeholder:"Payment Date",id:"payment_reference_date",disabled:!1,modelValue:t(s).payment_reference_date,"onUpdate:modelValue":l[9]||(l[9]=o=>t(s).payment_reference_date=o)},null,8,["modelValue"])])]),e("div",is,[ds,e("div",rs,[u(q,{variant:"subtle",size:"md",placeholder:"Enter Notes Here",disabled:!1,modelValue:t(s).notes,"onUpdate:modelValue":l[10]||(l[10]=o=>t(s).notes=o),label:"Notes",id:"notes"},null,8,["modelValue"])])])])])])]))])])]),e("div",_s,[ps,t(r).length!==0?(p(),_("table",us,[ms,e("tbody",vs,[(p(!0),_(y,null,f(t(r),(o,v)=>(p(),_("tr",{key:v},[e("th",bs,w(v+1),1),e("td",null,[i(e("select",{class:"form-select form-select-mb","aria-label":"Service Types","onUpdate:modelValue":c=>o.service_type=c},[ys,(p(),_(y,null,f(T,c=>e("option",{value:c.value},w(c.label),9,fs)),64))],8,hs),[[V,o.service_type]])]),e("td",null,[i(e("input",{type:"text",class:"form-control","onUpdate:modelValue":c=>o.quantity=c},null,8,ws),[[d,o.quantity]])]),e("td",null,[e("div",xs,[Vs,i(e("input",{type:"text",class:"form-control","onUpdate:modelValue":c=>o.rate=c},null,8,gs),[[d,o.rate,void 0,{number:!0}]])])]),e("td",null,[e("div",Ss,[Ns,i(e("input",{type:"text",readonly:"",class:"form-control","onUpdate:modelValue":c=>o.amount=c},null,8,Is),[[d,o.amount,void 0,{number:!0}]])])]),e("td",null,[e("button",Ts,[e("i",{onClick:c=>k(v),class:"bi bi-trash"},null,8,Us)])])]))),128))])])):g("",!0),e("div",ks,[e("div",{class:R(t(r).length===0?"ms-auto pt-3":"ms-auto")},[e("div",{class:"btn-group",role:"group","aria-label":"Basic example"},[e("button",{type:"button",class:"btn btn-dark btn-sm",onClick:U},Ds)])],2)])]),e("div",Es,[e("div",Cs,[Os,e("div",qs,[e("div",Rs,[Ps,e("div",Bs,[e("input",{type:"text",readonly:"",class:"form-control-plaintext",id:"total_amount",value:t(s).total_amount},null,8,Ms)])])])])])])],32)}}};var $s=E(As,[["__scopeId","data-v-abc35bee"]]);export{$s as default};
