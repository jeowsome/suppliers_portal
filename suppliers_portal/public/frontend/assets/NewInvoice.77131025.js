import{_ as C,x as R,r as x,a as g,e as _,m as e,f as m,w as O,J as i,K as d,u as o,G as h,L as D,F as N,y as S,M as q,t as f,p as T,H as P,E as M,q as B,z as A,A as L,g as j,o as u,v as F}from"./vendor.ea68c68e.js";import{a as y,b as H,r as $}from"./index.fc3d8398.js";const G=(r,w)=>{const v=new Date(r);return v.setDate(v.getDate()+w),v},J=r=>{switch(r){case"NET 10":return 10;case"NET 15":return 15;case"NET 30":return 30;case"NET 45":return 45;case"NET 60":return 60;default:return 0}};const a=r=>(A("data-v-34ded2cf"),r=r(),L(),r),K={class:"container mt-5 py-3 border"},Q={class:"row mb-3"},Z=a(()=>e("div",{class:"col-6"},[e("h1",{class:"text-gray-900 font-bold text-[32px]"},"New Invoice")],-1)),W={class:"col-6"},X={class:"d-flex"},Y={class:"ms-auto"},ee={class:"btn-group",role:"group","aria-label":"Basic example"},se={type:"button",class:"btn btn-primary btn-light"},te=F("Cancel"),oe={class:"container border-bottom pb-3"},le={class:"mb-2 row"},ae={class:"col"},ne={class:"row"},ce=a(()=>e("label",{for:"supplier_invoice_number",class:"col-sm-3 col-form-label"},"Invoice Number",-1)),ie={class:"col-sm-8"},de={class:"col"},re={class:"row"},_e=a(()=>e("label",{for:"service_date",class:"col-sm-3 col-form-label"},"Service Date",-1)),ue={class:"col-sm-8"},pe={class:"mb-2 row"},me={class:"col"},ve={class:"row"},be=a(()=>e("label",{for:"suppplier_id",class:"col-sm-3 col-form-label"},"Supplier ID",-1)),he={class:"col-sm-8"},fe=["value"],ye={class:"col"},we={class:"row"},Ve=a(()=>e("label",{for:"invoice_date",class:"col-sm-3 col-form-label"},"Invoice Date",-1)),xe={class:"col-sm-8"},ge={class:"mb-2 row"},Ne={class:"col"},Se={class:"row"},Te=a(()=>e("label",{for:"suppplier_name",class:"col-sm-3 col-form-label"},"Supplier Name",-1)),De={class:"col-sm-8"},Ie=["value"],Ue={class:"col"},Ee={class:"row"},ke=a(()=>e("label",{for:"invoice_terms",class:"col-sm-3 col-form-label"},"Invoice Terms",-1)),ze={class:"col-sm-8"},Ce=a(()=>e("option",{readonly:""},null,-1)),Re=["value"],Oe={class:"mb-2 row"},qe=a(()=>e("div",{class:"col"},null,-1)),Pe={class:"col"},Me={class:"row"},Be=a(()=>e("label",{for:"invoice_date",class:"col-sm-3 col-form-label"},"Due Date",-1)),Ae={class:"col-sm-8"},Le={class:"mb-2 row"},je={class:"col"},Fe={class:"accordion accordion-flush",id:"service-address-accordion"},He={class:"accordion-item"},$e=a(()=>e("h2",{class:"accordion-header ps-0"},[e("button",{class:"accordion-button",type:"button","data-bs-toggle":"collapse","data-bs-target":"#collapseOne","aria-expanded":"true","aria-controls":"collapseOne"}," Service Address ")],-1)),Ge={id:"collapseOne",class:"accordion-collapse collapse show","data-bs-parent":"#service-address-accordion"},Je={class:"accordion-body"},Ke={class:"row mb-1"},Qe=a(()=>e("label",{for:"street",class:"col-sm-3 col-form-label"},"Street",-1)),Ze={class:"col-sm-8"},We={class:"row mb-1"},Xe=a(()=>e("label",{for:"city",class:"col-sm-3 col-form-label"},"City",-1)),Ye={class:"col-sm-8"},es={class:"row mb-1"},ss=a(()=>e("label",{for:"state",class:"col-sm-3 col-form-label"},"State",-1)),ts={class:"col-sm-8"},os={class:"row mb-1"},ls=a(()=>e("label",{for:"zip_code",class:"col-sm-3 col-form-label"},"Zip Code",-1)),as={class:"col-sm-8"},ns={class:"col"},cs={class:"accordion accordion-flush",id:"address-accordion"},is={class:"accordion-item"},ds={class:"accordion-header ps-0"},rs={class:"accordion-button",type:"button","data-bs-toggle":"collapse","data-bs-target":"#collapse-2","aria-expanded":"true","aria-controls":"collapse-2"},_s={id:"collapse-2",class:"accordion-collapse collapse show","data-bs-parent":"#address-accordion"},us={class:"accordion-body"},ps={key:0,class:"row mb-1"},ms=a(()=>e("label",{for:"payment_reference_no",class:"col-sm-3 col-form-label"},"Payment Reference",-1)),vs={class:"col-sm-5"},bs={key:1,class:"row mb-1"},hs=a(()=>e("label",{for:"payment_reference_date",class:"col-sm-3 col-form-label"},"Payment Date",-1)),fs={class:"col-sm-5"},ys={class:"row mb-1"},ws=a(()=>e("label",{for:"notes",class:"col-sm-3 col-form-label"},"Notes",-1)),Vs={class:"col-md-8"},xs={class:"container"},gs=a(()=>e("h4",null,"Invoice item",-1)),Ns={key:0,class:"table"},Ss=a(()=>e("thead",null,[e("tr",null,[e("th",{scope:"col"},"#"),e("th",{scope:"col",width:"30%"},"Service Type"),e("th",{scope:"col"},"Quantity"),e("th",{scope:"col"},"Rate"),e("th",{scope:"col"},"Amount")])],-1)),Ts={class:"table-group-divider"},Ds={scope:"row"},Is={class:"col-mb-12"},Us=["onUpdate:modelValue"],Es=a(()=>e("option",{readonly:""},null,-1)),ks=["value"],zs=["onUpdate:modelValue"],Cs={class:"input-group"},Rs=a(()=>e("span",{class:"input-group-text"},[e("i",{class:"bi bi-currency-dollar"})],-1)),Os=["onUpdate:modelValue"],qs={class:"input-group"},Ps=a(()=>e("span",{class:"input-group-text"},[e("i",{class:"bi bi-currency-dollar"})],-1)),Ms=["onUpdate:modelValue"],Bs={type:"button",class:"btn btn-dark btn-sm"},As=["onClick"],Ls={class:"d-flex"},js=a(()=>e("i",{class:"bi bi-plus"},null,-1)),Fs=[js],Hs={class:"container"},$s={class:"mb-2 row"},Gs=a(()=>e("div",{class:"col"},null,-1)),Js={class:"col"},Ks={class:"row"},Qs=a(()=>e("label",{for:"total_amount",class:"col-sm-3 col-form-label"},"Total Amount",-1)),Zs={class:"col-sm-5"},Ws=["value"],Xs={setup(r){const w=R({doctype:"Supplier Portal Invoices",insert:{onSuccess(){$.push({name:"SupplierInvoiceList"})}}}),v=[{label:"NET 10",value:"NET 10"},{label:"NET 15",value:"NET 15"},{label:"NET 30",value:"NET 30"},{label:"NET 45",value:"NET 45"},{label:"NET 60",value:"NET 60"},{label:"Due on Receipt",value:"Due on Receipt"}],I=[{label:"Repair",value:"Repair"},{label:"Preventive Maintenance",value:"Preventive Maintenance"}],s=x({supplier_invoice_number:"",supplier:y(),service_date:new Date().toISOString().split("T")[0],invoice_date:new Date().toISOString().split("T")[0],supplier_name:H(),invoice_terms:"",total_amount:0,street:"",city:"",state:"",zip_code:"",payment_reference_no:"",payment_reference_date:new Date().toISOString().split("T")[0],notes:""}),p=x([]);let b=g(()=>s.invoice_terms?G(s.invoice_date,J(s.invoice_terms)).toISOString().split("T")[0]:"");const U=()=>{const n=x({service_type:"",quantity:0,rate:0,amount:0});n.amount=g(()=>n.quantity*n.rate),p.push(n)},E=n=>{p.splice(n,1)};s.total_amount=g(()=>p.reduce((n,l)=>n+l.amount,0));const k=()=>{w.insert.submit({supplier_invoice_number:s.supplier_invoice_number,supplier:s.supplier,service_date:s.service_date,invoice_date:s.invoice_date,supplier_name:s.supplier_name,invoice_terms:s.invoice_terms,street:s.street,city:s.city,state:s.state,zip_code:s.zip_code,payment_reference_date:s.payment_reference_date,payment_reference_no:s.payment_reference_no,notes:s.notes,supplier_invoice_items:p.map(n=>({service_type:n.service_type,quantity:n.quantity,rate:n.rate}))})};return(n,l)=>{const z=j("router-link");return u(),_("form",{onSubmit:l[12]||(l[12]=B(()=>{},["prevent"]))},[e("div",K,[e("div",Q,[Z,e("div",W,[e("div",X,[e("div",Y,[e("div",ee,[e("button",se,[m(z,{to:"/"},{default:O(()=>[te]),_:1})]),e("button",{type:"button",class:"btn btn-primary btn-dark",onClick:k}," Save ")])])])])]),e("div",oe,[e("div",le,[e("div",ae,[e("div",ne,[ce,e("div",ie,[i(e("input",{type:"text",class:"form-control",id:"supplier_invoice_number","onUpdate:modelValue":l[0]||(l[0]=t=>o(s).supplier_invoice_number=t),required:""},null,512),[[d,o(s).supplier_invoice_number,void 0,{number:!0}]])])])]),e("div",de,[e("div",re,[_e,e("div",ue,[m(h,{type:"date",size:"lg",variant:"outline",placeholder:"Service Date",id:"service_date",disabled:!1,modelValue:o(s).service_date,"onUpdate:modelValue":l[1]||(l[1]=t=>o(s).service_date=t)},null,8,["modelValue"])])])])]),e("div",pe,[e("div",me,[e("div",ve,[be,e("div",he,[e("input",{type:"text",readonly:"",class:"form-control-plaintext",id:"suppplier_id",value:o(s).supplier},null,8,fe)])])]),e("div",ye,[e("div",we,[Ve,e("div",xe,[m(h,{type:"date",size:"lg",variant:"outline",placeholder:"Invoice Date",id:"invoice_date",disabled:!1,modelValue:o(s).invoice_date,"onUpdate:modelValue":l[2]||(l[2]=t=>o(s).invoice_date=t)},null,8,["modelValue"])])])])]),e("div",ge,[e("div",Ne,[e("div",Se,[Te,e("div",De,[e("input",{type:"text",readonly:"",class:"form-control-plaintext",id:"suppplier_name",value:o(s).supplier_name},null,8,Ie)])])]),e("div",Ue,[e("div",Ee,[ke,e("div",ze,[i(e("select",{class:"form-select form-select-mb h-100 d-inline-block","aria-label":"Invoice Terms","onUpdate:modelValue":l[3]||(l[3]=t=>o(s).invoice_terms=t)},[Ce,(u(),_(N,null,S(v,t=>e("option",{value:t.value},f(t.label),9,Re)),64))],512),[[D,o(s).invoice_terms]])])])])]),e("div",Oe,[qe,e("div",Pe,[e("div",Me,[Be,e("div",Ae,[m(h,{type:"date",size:"lg",variant:"outline",placeholder:"Due Date",id:"due_date",disabled:!0,modelValue:o(b),"onUpdate:modelValue":l[4]||(l[4]=t=>q(b)?b.value=t:b=t)},null,8,["modelValue"])])])])]),e("div",Le,[e("div",je,[e("div",Fe,[e("div",He,[$e,e("div",Ge,[e("div",Je,[e("div",Ke,[Qe,e("div",Ze,[i(e("input",{type:"text",class:"form-control",id:"street","onUpdate:modelValue":l[5]||(l[5]=t=>o(s).street=t)},null,512),[[d,o(s).street]])])]),e("div",We,[Xe,e("div",Ye,[i(e("input",{type:"text",class:"form-control",id:"city","onUpdate:modelValue":l[6]||(l[6]=t=>o(s).city=t)},null,512),[[d,o(s).city]])])]),e("div",es,[ss,e("div",ts,[i(e("input",{type:"text",class:"form-control",id:"state","onUpdate:modelValue":l[7]||(l[7]=t=>o(s).state=t)},null,512),[[d,o(s).state]])])]),e("div",os,[ls,e("div",as,[i(e("input",{type:"text",class:"form-control",id:"zip_code","onUpdate:modelValue":l[8]||(l[8]=t=>o(s).zip_code=t)},null,512),[[d,o(s).zip_code]])])])])])])])]),e("div",ns,[e("div",cs,[e("div",is,[e("h2",ds,[e("button",rs,f(o(y)()?"Notes":"Payment Reference and Notes"),1)]),e("div",_s,[e("div",us,[o(y)()?T("",!0):(u(),_("div",ps,[ms,e("div",vs,[i(e("input",{type:"text",class:"form-control",id:"payment_reference_no","onUpdate:modelValue":l[9]||(l[9]=t=>o(s).payment_reference_no=t)},null,512),[[d,o(s).payment_reference_no]])])])),o(y)()?T("",!0):(u(),_("div",bs,[hs,e("div",fs,[m(h,{type:"date",size:"lg",variant:"outline",placeholder:"Payment Date",id:"payment_reference_date",disabled:!1,modelValue:o(s).payment_reference_date,"onUpdate:modelValue":l[10]||(l[10]=t=>o(s).payment_reference_date=t)},null,8,["modelValue"])])])),e("div",ys,[ws,e("div",Vs,[m(P,{variant:"subtle",size:"md",placeholder:"Enter Notes Here",disabled:!1,modelValue:o(s).notes,"onUpdate:modelValue":l[11]||(l[11]=t=>o(s).notes=t),id:"notes"},null,8,["modelValue"])])])])])])])])])]),e("div",xs,[gs,o(p).length!==0?(u(),_("table",Ns,[Ss,e("tbody",Ts,[(u(!0),_(N,null,S(o(p),(t,V)=>(u(),_("tr",{key:V},[e("th",Ds,f(V+1),1),e("td",null,[e("div",Is,[i(e("select",{class:"form-select form-select-mb h-100 d-inline-block","aria-label":"Service Types","onUpdate:modelValue":c=>t.service_type=c},[Es,(u(),_(N,null,S(I,c=>e("option",{value:c.value},f(c.label),9,ks)),64))],8,Us),[[D,t.service_type]])])]),e("td",null,[i(e("input",{type:"text",class:"form-control","onUpdate:modelValue":c=>t.quantity=c},null,8,zs),[[d,t.quantity]])]),e("td",null,[e("div",Cs,[Rs,i(e("input",{type:"text",class:"form-control","onUpdate:modelValue":c=>t.rate=c},null,8,Os),[[d,t.rate,void 0,{number:!0}]])])]),e("td",null,[e("div",qs,[Ps,i(e("input",{type:"text",readonly:"",class:"form-control","onUpdate:modelValue":c=>t.amount=c},null,8,Ms),[[d,t.amount,void 0,{number:!0}]])])]),e("td",null,[e("button",Bs,[e("i",{onClick:c=>E(V),class:"bi bi-trash"},null,8,As)])])]))),128))])])):T("",!0),e("div",Ls,[e("div",{class:M(o(p).length===0?"ms-auto pt-3":"ms-auto")},[e("div",{class:"btn-group",role:"group","aria-label":"Basic example"},[e("button",{type:"button",class:"btn btn-dark btn-sm",onClick:U},Fs)])],2)])]),e("div",Hs,[e("div",$s,[Gs,e("div",Js,[e("div",Ks,[Qs,e("div",Zs,[e("input",{type:"text",readonly:"",class:"form-control-plaintext",id:"total_amount",value:o(s).total_amount},null,8,Ws)])])])])])])],32)}}};var st=C(Xs,[["__scopeId","data-v-34ded2cf"]]);export{st as default};
